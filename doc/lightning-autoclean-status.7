.\" -*- mode: troff; coding: utf-8 -*-
.TH "LIGHTNING-AUTOCLEAN-STATUS" "7" "" "Core Lightning 22.11rc1" ""
.SH NAME
lightning-autoclean-status -- Examine auto-delete of old invoices/payments/forwards
.SH SYNOPSIS
\fBautoclean-status\fR [\fIsubsystem\fR]
.SH DESCRIPTION
The \fBautoclean-status\fR RPC command tells you about the status of
the autclean plugin, optionally for only one subsystem.
.PP
The subsystems currently supported are:
.IP "\(bu" 2
\fCfailedforwards\fR: routed payments which did not succeed (\fCfailed\fR or \fClocal_failed\fR in listforwards \fCstatus\fR).
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fCsucceededforwards\fR: routed payments which succeeded (\fCsettled\fR in listforwards \fCstatus\fR).
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fCfailedpays\fR: payment attempts which did not succeed (\fCfailed\fR in listpays \fCstatus\fR).
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fCsuccededpays\fR: payment attempts which succeeded (\fCcomplete\fR in listpays \fCstatus\fR).
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fCexpiredinvoices\fR: invoices which were not paid (and cannot be) (\fCexpired\fR in listinvoices \fCstatus\fR).
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fCpaidinvoices\fR: invoices which were paid (\fCpaid\fR in listinvoices \(gastatus).
.SH RETURN VALUE
Note that the ages parameters are set by various \fCautoclean-...-age\fR
parameters in your configuration: see lightningd-config(5).
.PP
On success, an object containing \fBautoclean\fR is returned.  It is an object containing:
.IP "\(bu" 2
\fBsucceededforwards\fR (object, optional):
.RS
.IP "\(bu" 2
\fBenabled\fR (boolean): whether autocleaning is enabled for successful listforwards
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBcleaned\fR (u64): total number of deletions done (ever)
.RE
.IP
If \fBenabled\fR is \fItrue\fR:
.RS
.IP "\(bu" 2
\fBage\fR (u64): age (in seconds) to delete successful listforwards
.RE
.IP "\(bu" 2
\fBfailedforwards\fR (object, optional):
.RS
.IP "\(bu" 2
\fBenabled\fR (boolean): whether autocleaning is enabled for failed listforwards
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBcleaned\fR (u64): total number of deletions done (ever)
.RE
.IP
If \fBenabled\fR is \fItrue\fR:
.RS
.IP "\(bu" 2
\fBage\fR (u64): age (in seconds) to delete failed listforwards
.RE
.IP "\(bu" 2
\fBsucceededpays\fR (object, optional):
.RS
.IP "\(bu" 2
\fBenabled\fR (boolean): whether autocleaning is enabled for successful listpays/listsendpays
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBcleaned\fR (u64): total number of deletions done (ever)
.RE
.IP
If \fBenabled\fR is \fItrue\fR:
.RS
.IP "\(bu" 2
\fBage\fR (u64): age (in seconds) to delete successful listpays/listsendpays
.RE
.IP "\(bu" 2
\fBfailedpays\fR (object, optional):
.RS
.IP "\(bu" 2
\fBenabled\fR (boolean): whether autocleaning is enabled for failed listpays/listsendpays
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBcleaned\fR (u64): total number of deletions done (ever)
.RE
.IP
If \fBenabled\fR is \fItrue\fR:
.RS
.IP "\(bu" 2
\fBage\fR (u64): age (in seconds) to delete failed listpays/listsendpays
.RE
.IP "\(bu" 2
\fBpaidinvoices\fR (object, optional):
.RS
.IP "\(bu" 2
\fBenabled\fR (boolean): whether autocleaning is enabled for paid listinvoices
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBcleaned\fR (u64): total number of deletions done (ever)
.RE
.IP
If \fBenabled\fR is \fItrue\fR:
.RS
.IP "\(bu" 2
\fBage\fR (u64): age (in seconds) to paid listinvoices
.RE
.IP "\(bu" 2
\fBexpiredinvoices\fR (object, optional):
.RS
.IP "\(bu" 2
\fBenabled\fR (boolean): whether autocleaning is enabled for expired (unpaid) listinvoices
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBcleaned\fR (u64): total number of deletions done (ever)
.RE
.IP
If \fBenabled\fR is \fItrue\fR:
.RS
.IP "\(bu" 2
\fBage\fR (u64): age (in seconds) to expired listinvoices
.RE
.SH AUTHOR
Rusty Russell <\fIrusty@rustcorp.com.au\fR> is mainly responsible.
.SH SEE ALSO
lightningd-config(5), lightning-listinvoices(7),
lightning-listpays(7), lightning-listforwards(7).
.SH RESOURCES
Main web site: \fIhttps://github.com/ElementsProject/lightning\fR
\" SHA256STAMP:9e3efbd71d8f3d5dc9ac8f0fb1804cdd43d1a30b8784734dde2321060ef4aba2
