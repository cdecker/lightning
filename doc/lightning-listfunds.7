.\" -*- mode: troff; coding: utf-8 -*-
.TH "LIGHTNING-LISTFUNDS" "7" "" "Core Lightning 22.11rc1" ""
.SH NAME
lightning-listfunds -- Command showing all funds currently managed by the Core Lightning node
.SH SYNOPSIS
\fBlistfunds\fR [\fIspent\fR]
.SH DESCRIPTION
The \fBlistfunds\fR RPC command displays all funds available, either in
unspent outputs (UTXOs) in the internal wallet or funds locked in
currently open channels.
.PP
\fIspent\fR is a boolean: if true, then the \fIoutputs\fR will include spent outputs
in addition to the unspent ones. Default is false.
.SH RETURN VALUE
On success, an object is returned, containing:
.IP "\(bu" 2
\fBoutputs\fR (array of objects):
.RS
.IP "\(bu" 2
\fBtxid\fR (txid): the ID of the spendable transaction
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBoutput\fR (u32): the index within \fItxid\fR
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBamount_msat\fR (msat): the amount of the output
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBscriptpubkey\fR (hex): the scriptPubkey of the output
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBstatus\fR (string) (one of \(dqunconfirmed\(dq, \(dqconfirmed\(dq, \(dqspent\(dq, \(dqimmature\(dq)
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBreserved\fR (boolean): whether this UTXO is currently reserved for an in-flight tx
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBaddress\fR (string, optional): the bitcoin address of the output
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBredeemscript\fR (hex, optional): the redeemscript, only if it's p2sh-wrapped
.RE
.IP
If \fBstatus\fR is \(dqconfirmed\(dq:
.RS
.IP "\(bu" 2
\fBblockheight\fR (u32): Block height where it was confirmed
.RE
.IP
If \fBreserved\fR is \(dqtrue\(dq:
.RS
.IP "\(bu" 2
\fBreserved_to_block\fR (u32): Block height where reservation will expire
.RE
.IP "\(bu" 2
\fBchannels\fR (array of objects):
.RS
.IP "\(bu" 2
\fBpeer_id\fR (pubkey): the peer with which the channel is opened
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBour_amount_msat\fR (msat): available satoshis on our node's end of the channel
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBamount_msat\fR (msat): total channel value
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBfunding_txid\fR (txid): funding transaction id
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBfunding_output\fR (u32): the 0-based index of the output in the funding transaction
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBconnected\fR (boolean): whether the channel peer is connected
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBstate\fR (string): the channel state, in particular \(dqCHANNELD\fINORMAL\(dq means the channel can be used normally (one of \(dqOPENINGD\(dq, \(dqCHANNELD\fRAWAITING\fILOCKIN\(dq, \(dqCHANNELD\fRNORMAL\(dq, \(dqCHANNELD\fISHUTTING\fRDOWN\(dq, \(dqCLOSINGD\fISIGEXCHANGE\(dq, \(dqCLOSINGD\fRCOMPLETE\(dq, \(dqAWAITING\fIUNILATERAL\(dq, \(dqFUNDING\fRSPEND\fISEEN\(dq, \(dqONCHAIN\(dq, \(dqDUALOPEND\fROPEN\fIINIT\(dq, \(dqDUALOPEND\fRAWAITING_LOCKIN\(dq)
.RE
.IP
If \fBstate\fR is \(dqCHANNELD_NORMAL\(dq:
.RS
.IP "\(bu" 2
\fBshort_channel_id\fR (short_channel_id): short channel id of channel
.RE
.IP
If \fBstate\fR is \(dqCHANNELD\fISHUTTING\fRDOWN\(dq, \(dqCLOSINGD\fISIGEXCHANGE\(dq, \(dqCLOSINGD\fRCOMPLETE\(dq, \(dqAWAITING\fIUNILATERAL\(dq, \(dqFUNDING\fRSPEND_SEEN\(dq or \(dqONCHAIN\(dq:
.RS
.IP "\(bu" 2
\fBshort_channel_id\fR (short_channel_id, optional): short channel id of channel (only if funding reached lockin depth before closing)
.RE
.SH AUTHOR
Felix <\fIfixone@gmail.com\fR> is mainly responsible.
.SH SEE ALSO
lightning-newaddr(7), lightning-fundchannel(7), lightning-withdraw(7), lightning-listtransactions(7)
.SH RESOURCES
Main web site: \fIhttps://github.com/ElementsProject/lightning\fR
\" SHA256STAMP:72810d0cce897b5e08811270b399c8c318ef1b73f1f970ad87b1bd9615ba1732
