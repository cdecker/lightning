.\" -*- mode: troff; coding: utf-8 -*-
.TH "LIGHTNING-RESERVEINPUTS" "7" "" "Core Lightning 22.11rc1" ""
.SH NAME
lightning-reserveinputs -- Construct a transaction and reserve the UTXOs it spends
.SH SYNOPSIS
\fBreserveinputs\fR \fIpsbt\fR [\fIexclusive\fR] [\fIreserve\fR]
.SH DESCRIPTION
The \fBreserveinputs\fR RPC command places (or increases) reservations on any
inputs specified in \fIpsbt\fR which are known to lightningd.  It will fail
with an error if any of the inputs are known to be spent, and ignore inputs
which are unknown.
.PP
Normally the command will fail (with no reservations made) if an input
is already reserved.  If \fIexclusive\fR is set to \fIFalse\fR, then existing
reservations are simply extended, rather than causing failure.
.PP
By default, reservations are for the next 72 blocks (approximately 6
hours), but this can be changed by setting \fIreserve\fR.
.SH RETURN VALUE
On success, an object containing \fBreservations\fR is returned.  It is an array of objects, where each object contains:
.IP "\(bu" 2
\fBtxid\fR (txid): the transaction id
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBvout\fR (u32): the output number which was reserved
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBwas_reserved\fR (boolean): whether the input was already reserved
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBreserved\fR (boolean): whether the input is now reserved (always \fItrue\fR)
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBreserved_to_block\fR (u32): what blockheight the reservation will expire
.LP
On success, a \fIreservations\fR array is returned, with an entry for each input
which was reserved:
.IP "\(bu" 2
\fItxid\fR is the input transaction id.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fIvout\fR is the input index.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fIwas_reserved\fR indicates whether the input was already reserved.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fIreserved\fR indicates that the input is now reserved (i.e. true).
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fIreserved\fIto\fIblock\fR indicates what blockheight the reservation will expire.
.LP
On failure, an error is reported and no UTXOs are reserved.
.PP
The following error codes may occur:
- -32602: Invalid parameter, such as specifying a spent/reserved input in \fIpsbt\fR.
.SH AUTHOR
niftynei <\fIniftynei@gmail.com\fR> is mainly responsible.
.SH SEE ALSO
lightning-unreserveinputs(7), lightning-signpsbt(7), lightning-sendpsbt(7)
.SH RESOURCES
Main web site: \fIhttps://github.com/ElementsProject/lightning\fR
\" SHA256STAMP:e9f317a1b135b1a92f2eeff90e9d0886fe039d455a6eaf21528f136240864a6b
